<div style="height:100%; color: white; text-transform: capitalize; background-color: gray">

    <div style="height: 200px; overflow: hidden; background-image: url('/images/background.png'); width: 100%; background-color:dark-gray; position: relative">
        <img src="images/playership3.png" style="z-index: 10; height:200px; left: -50px; top:0px; position: absolute">

        <div class="map2" style="z-index: 11; height:90px; position:absolute; left: 0px; top: 20px;"><!--
            --><div class="map-room map-bottom-left" ng-click="movePlayer('BOTTOM_LEFT')" ng-class="{active: player.room == 'BOTTOM_LEFT'}"></div><!--
            --><div class="map-room map-top-left" ng-click="movePlayer('TOP_LEFT')" ng-class="{active: player.room == 'TOP_LEFT'}"></div><!--
            --><div class="map-room map-bottom-center" ng-click="movePlayer('BOTTOM_CENTER')" ng-class="{active: player.room == 'BOTTOM_CENTER'}"></div><!--
            --><div class="map-room map-top-center" ng-click="movePlayer('TOP_CENTER')" ng-class="{active: player.room == 'TOP_CENTER'}"></div><!--
            --><div class="map-room map-top-right" ng-click="movePlayer('TOP_RIGHT')" ng-class="{active: player.room == 'TOP_RIGHT'}"></div><!--
            --><div class="map-room map-bottom-right" ng-click="movePlayer('BOTTOM_RIGHT')" ng-class="{active: player.room == 'BOTTOM_RIGHT'}"></div>
        </div>

        <div style="top: 94px;left:197px;width:500px; height: 2px; background-color: purple; border-radius:40%; position: absolute;"></div>
        <div style="top: 154px;left:-134px;width:500px; height: 2px; background-color: red; border-radius:40%; position: absolute;"></div>

        <img src="images/enemyship3.png" style="height:50px; left: 50%; top: 20; position: absolute">
        <img src="images/enemyship2.png" style="height:60px; left: 70%; top: 65px; position: absolute">
        <img src="images/enemyship.png" style="height:50px; left: 38%; top: 130px; position: absolute">
        <img src="images/earth2.png" style="height: 190px; right:-90px; top:5px; position:absolute">
    </div>

    <div><br><br>{{getRoomName(player.room)}}</div>

    <slick class="slider slider-room single-item" infinite="false" style="" arrows="false">
        <div>
            <h3>THREAT MONITOR</h3>
            <div class="tracks-container">
                <table>
                    <tr>
                        <td valign="bottom" ng-repeat="track in tracks track by track.vector">
                            <table class="track">
                                <tr><td>{{track.vector}}, {{ship.health[track.vector]}} HP</td></tr>
                                <tr ng-repeat="cell in getCells(track) track by $index">
                                    <td ng-class="{
                                        trackz: (track.length) - $index <= track.zPos,
                                        tracky: (track.length) - $index <= track.yPos && (track.length-1) - $index >= track.zPos,
                                        trackx: (track.length) - $index <= track.xPos && (track.length-1) - $index >= track.yPos,
                                        notrack: (track.length) - $index > track.xPos}">
                                        &nbsp;<span
                                            style="position: relative"
                                            ng-style="{'top': getThreatOffsetY(threat)}"
                                            ng-repeat="threat in getThreatsAt(track.vector, (track.length - 1) - $index) track by threat.id">
                                            {{threat.name}}
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div>
            <h3>Energy Gun</h3>
            <ul>
                <li><b>Range</b> X, Y, Z</li>
                <li><b>Damage</b> 4</li>
            </ul>
            <button
                display="inline-block"
                style="width:130px"
                ng-click="fireGun()"
                ng-disabled="ship.rooms.TOP_CENTER.gun.fired">
                {{ ship.rooms.TOP_CENTER.gun.fired ? 'Firing' : 'Fire' }}
            </button>
        </div>













        <div>
            <h3>Battery Gun</h3>
            <ul>
                <li><b>Range</b> X, Y, Z</li>
                <li><b>Damage</b> 2</li>
            </ul>
            <button
                display="inline-block"
                style="width:130px"
                ng-click="fireGun()"
                ng-disabled="ship.rooms.BOTTOM_LEFT.gun.fired">
                {{ ship.rooms.BOTTOM_LEFT.gun.fired ? 'Firing' : 'Fire' }}
            </button>
        </div>

        <div>
            <h3>Red Fuel Tank</h3>
            <div style="width: 50px; height: 190px; background-color: green; border: 1px solid black">
                <div style="width:100%; background-color: white" ng-style="{'height': getPowerPercent('BOTTOM_LEFT')}"></div>
            </div>
            <button
                display="inline-block"
                style="width:130px"
                ng-click="replenish()">
                Replenish from Reactor
            </button>
        </div>

        <div>
            <h3>Reactor</h3>
            <div>{{ship.rooms.BOTTOM_CENTER.cores}} Cores Remaining</div>
            <div style="width: 50px; height: 190px; background-color: green; border: 1px solid black">
                <div style="width:100%; background-color: white" ng-style="{'height': getPowerPercent('BOTTOM_CENTER')}"></div>
            </div>
            <button
                display="inline-block"
                style="width:130px"
                ng-click="replenish()">
                Consume Core
            </button>
        </div>

        <div>
            <h3>Short Range Wave</h3>
            <ul>
                <li><b>Attacks ALL Vectors</b></li>
                <li><b>Range</b> Y, Z</li>
                <li><b>Damage</b> 1</li>
            </ul>
            <button
                display="inline-block"
                style="width:130px"
                ng-click="fireGun()"
                ng-disabled="ship.rooms.BOTTOM_CENTER.gun.fired">
                {{ ship.rooms.BOTTOM_CENTER.gun.fired ? 'Firing' : 'Fire' }}
            </button>
        </div>

        <div ng-if="debug">
            <b>State:</b> {{state}}<br/>
            <b>Turn:</b> {{turn}}<br/>
            <b>Player:</b> {{player}}<br/>
            <b>Tracks:</b> {{tracks}}<br/>
            <b>Threats:</b> {{threats}}<br/>
            <b>Ship:</b> {{ship}}<br/>
        </div>

    </slick>

</div>
